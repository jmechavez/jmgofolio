<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome</title>
  <!-- Load scripts -->
  <script src="/static/js/htmx.min.js"></script>
  <script src="/static/js/alpine.min.js"></script>
  <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
  <header>
    <h1>Welcome to my portfolio</h1>
    <nav>
      <a href="/" hx-get="/" hx-target="#content" hx-swap="innerHTML">Home</a>
      <a href="/about" hx-get="/about" hx-target="#content" hx-swap="innerHTML">About</a>
    </nav>
  </header>
  <div id="content">
    <p>Welcome to my site!</p>
    
    <!-- Simple Alpine.js implementation -->
    <div x-data="{ loading: false }">
      <button @click="
        loading = true;
        fetch('/projects/html')
          .then(res => res.json())
          .then(data => {
            const list = document.getElementById('project-list');
            list.innerHTML = '';
            data.forEach(p => {
              list.innerHTML += `<li>
                <h3>${p.name || p.title}</h3>
                <p>${p.description}</p>
                ${p.link ? `<a href='${p.link}' target='_blank'>View Project</a>` : ''}
              </li>`;
            });
            loading = false;
          })
          .catch(err => {
            console.error(err);
            document.getElementById('project-list').innerHTML = '<li>Error loading projects</li>';
            loading = false;
          })
      ">
        Load Projects
      </button>
      <div x-show="loading">Loading...</div>
      <ul id="project-list"></ul>
    </div>
  </div>
</body>
</html>
